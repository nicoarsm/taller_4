{"ast":null,"code":"\"use strict\";\n\nfunction _interopDefault(e) {\n  return e && \"object\" == typeof e && \"default\" in e ? e.default : e;\n}\n\nvar React = _interopDefault(require(\"react\")),\n    reactDom = require(\"react-dom\"),\n    propTypes = _interopDefault(require(\"prop-types\")),\n    classCallCheck = function (e, t) {\n  if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n},\n    createClass = function () {\n  function e(e, t) {\n    for (var n = 0; n < t.length; n++) {\n      var o = t[n];\n      o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, o.key, o);\n    }\n  }\n\n  return function (t, n, o) {\n    return n && e(t.prototype, n), o && e(t, o), t;\n  };\n}(),\n    inherits = function (e, t) {\n  if (\"function\" != typeof t && null !== t) throw new TypeError(\"Super expression must either be null or a function, not \" + typeof t);\n  e.prototype = Object.create(t && t.prototype, {\n    constructor: {\n      value: e,\n      enumerable: !1,\n      writable: !0,\n      configurable: !0\n    }\n  }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);\n},\n    possibleConstructorReturn = function (e, t) {\n  if (!e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  return !t || \"object\" != typeof t && \"function\" != typeof t ? e : t;\n},\n    toConsumableArray = function (e) {\n  if (Array.isArray(e)) {\n    for (var t = 0, n = Array(e.length); t < e.length; t++) n[t] = e[t];\n\n    return n;\n  }\n\n  return Array.from(e);\n},\n    ReactToPrint = function (e) {\n  function t() {\n    var e, n, o, r;\n    classCallCheck(this, t);\n\n    for (var a = arguments.length, i = Array(a), l = 0; l < a; l++) i[l] = arguments[l];\n\n    return n = o = possibleConstructorReturn(this, (e = t.__proto__ || Object.getPrototypeOf(t)).call.apply(e, [this].concat(i))), o.handlePrint = function () {\n      var e = o.props,\n          t = e.content,\n          n = e.copyStyles,\n          r = e.onAfterPrint,\n          a = e.pageStyle;\n      console.log(a);\n      var i = window.open(\"\", \"Print\", \"status=no, toolbar=no, scrollbars=yes\", \"false\");\n      r && (i.onbeforeunload = r);\n      var l = t(),\n          c = reactDom.findDOMNode(l),\n          s = [].concat(toConsumableArray(c.getElementsByTagName(\"img\"))),\n          u = document.querySelectorAll('link[rel=\"stylesheet\"]');\n      o.imageTotal = s.length, o.imageLoaded = 0, o.linkTotal = u.length, o.linkLoaded = 0;\n\n      var d = function (e) {\n        \"image\" === e ? o.imageLoaded++ : \"link\" === e && o.linkLoaded++, o.imageLoaded === o.imageTotal && o.linkLoaded === o.linkTotal && o.triggerPrint(i);\n      };\n\n      if ([].concat(toConsumableArray(s)).forEach(function (e) {\n        /^data:/.test(e.src) && (e.crossOrigin = \"anonymous\"), e.setAttribute(\"src\", e.src), e.onload = d.bind(null, \"image\"), e.onerror = d.bind(null, \"image\"), e.crossOrigin = \"use-credentials\";\n      }), !1 !== n) {\n        var p = document.querySelectorAll('style, link[rel=\"stylesheet\"]');\n        [].concat(toConsumableArray(p)).forEach(function (e) {\n          var t = (i.contentDocument || i.document).createElement(e.tagName);\n          e.textContent ? t.textContent = e.textContent : e.innerText && (t.innerText = e.innerText);\n          [].concat(toConsumableArray(e.attributes)).forEach(function (e) {\n            var n = e.nodeValue;\n\n            if (\"href\" === e.nodeName && !1 === /^https?:\\/\\//.test(e.nodeValue) && !1 === /^blob:/.test(e.nodeValue)) {\n              var o = \"../\" === e.nodeValue.substr(0, 3) ? document.location.pathname.replace(/[^/]*$/, \"\") : \"/\";\n              n = n.replace(/\\/+/, \"\"), n = document.location.protocol + \"//\" + document.location.host + o + n;\n            }\n\n            t.setAttribute(e.nodeName, n);\n          }), \"LINK\" === e.tagName && (t.onload = d.bind(null, \"link\"), t.onerror = d.bind(null, \"link\")), i.document.head.appendChild(t);\n        });\n      }\n\n      if (document.body.className) {\n        document.body.className.split(\" \").filter(function (e) {\n          return e;\n        }).map(function (e) {\n          return i.document.body.classList.add(e);\n        });\n      }\n\n      o.props.bodyClass.length && i.document.body.classList.add(o.props.bodyClass);\n      var f = void 0 === a ? \"@page { size: auto;  margin: 0mm; } @media print { body { -webkit-print-color-adjust: exact; } }\" : a,\n          m = i.document.createElement(\"style\");\n      m.appendChild(i.document.createTextNode(f)), i.document.head.appendChild(m), i.document.body.innerHTML = c.outerHTML, 0 !== o.imageTotal && !1 !== n || o.triggerPrint(i), o.props.debug && (console.log(\"** DEBUG MODE **\"), console.log(i.document));\n    }, r = n, possibleConstructorReturn(o, r);\n  }\n\n  return inherits(t, e), createClass(t, [{\n    key: \"triggerPrint\",\n    value: function (e) {\n      var t = this;\n      this.props.onBeforePrint && this.props.onBeforePrint(), setTimeout(function () {\n        t.props.debug || (e.print(), t.props.closeAfterPrint && e.close());\n      }, 500);\n    }\n  }, {\n    key: \"render\",\n    value: function () {\n      var e = this;\n      return React.cloneElement(this.props.trigger(), {\n        ref: function (t) {\n          return e.triggerRef = t;\n        },\n        onClick: this.handlePrint\n      });\n    }\n  }]), t;\n}(React.Component);\n\nReactToPrint.defaultProps = {\n  copyStyles: !0,\n  closeAfterPrint: !0,\n  bodyClass: \"\",\n  debug: !1\n}, module.exports = ReactToPrint;","map":{"version":3,"sources":["../src/index.js"],"names":["ReactToPrint","React","Component","defaultProps","target","this","props","onBeforePrint","_this2","debug","print","closeAfterPrint","close","handlePrint","content","copyStyles","onAfterPrint","pageStyle","_this","log","printWindow","window","open","onbeforeunload","contentEl","contentNodes","findDOMNode","imageNodes","getElementsByTagName","linkNodes","document","querySelectorAll","imageTotal","length","imageLoaded","linkTotal","linkLoaded","markLoaded","type","triggerPrint","forEach","child","test","src","crossOrigin","setAttribute","onload","bind","onerror","headEls","contentDocument","newHeadEl","createElement","node","tagName","textContent","innerText","attributes","nodeValue","attr","nodeName","relPath","substr","location","pathname","replace","protocol","host","head","appendChild","body","className","split","filter","item","map","classList","add","bodyClass","defaultPageStyle","undefined","styleEl","createTextNode","innerHTML","outerHTML","cloneElement","trigger","el","_this3","triggerRef"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { findDOMNode } from \"react-dom\";\nimport PropTypes from \"prop-types\";\n\nclass ReactToPrint extends React.Component {\n\n  static propTypes = {\n    /** Copy styles over into print window. default: true */\n    copyStyles: PropTypes.bool, \n    /** Trigger action used to open browser print */\n    trigger: PropTypes.func.isRequired,\n    /** Content to be printed */\n    content: PropTypes.func.isRequired,\n    /** Callback function to trigger before print */\n    onBeforePrint: PropTypes.func,\n    /** Callback function to trigger after print */\n    onAfterPrint: PropTypes.func,\n    /** Close the print window after action */\n    closeAfterPrint: PropTypes.bool,\n    /** Override default print window styling */\n    pageStyle: PropTypes.string,\n    /** Optional class to pass to the print window body */\n    bodyClass: PropTypes.string,\n    /** Debug Mode */\n    debug: PropTypes.bool\n  };\n\n  static defaultProps = {\n    copyStyles: true,\n    closeAfterPrint: true,\n    bodyClass: '',\n    debug: false\n  };\n\n  triggerPrint(target) {\n    if (this.props.onBeforePrint) {\n      this.props.onBeforePrint();\n    }\n    setTimeout(() => {\n      if (!this.props.debug) {\n        target.print();\n        if (this.props.closeAfterPrint) {\n          target.close();\n        }\n      }\n    }, 500);\n  }\n\n  handlePrint = () => {\n  \n    const {\n      content,\n      copyStyles,\n      onAfterPrint,\n      pageStyle\n    } = this.props;\n    console.log(pageStyle);\n\n    let printWindow = window.open(\"\", \"Print\", \"status=no, toolbar=no, scrollbars=yes\", \"false\");\n    \n    if (onAfterPrint) {\n      printWindow.onbeforeunload = onAfterPrint;\n    }\n\n    const contentEl = content();\n    const contentNodes = findDOMNode(contentEl);\n\n    const imageNodes = [...contentNodes.getElementsByTagName(\"img\")];\n    const linkNodes = document.querySelectorAll('link[rel=\"stylesheet\"]');\n\n    this.imageTotal = imageNodes.length;\n    this.imageLoaded = 0;\n\n    this.linkTotal = linkNodes.length;\n    this.linkLoaded = 0;\n\n    const markLoaded = (type) => {\n\n      if (type === 'image')\n        this.imageLoaded++;\n      else if (type === 'link')\n        this.linkLoaded++;\n\n      if (this.imageLoaded === this.imageTotal && this.linkLoaded === this.linkTotal) {\n        this.triggerPrint(printWindow);\n      }\n\n    };\n\n    [...imageNodes].forEach((child) => {\n      /** Workaround for Safari if the image has base64 data as a source */\n      if (/^data:/.test(child.src)) {\n        child.crossOrigin = 'anonymous';\n      }\n      child.setAttribute('src', child.src);\n      child.onload = markLoaded.bind(null, 'image');\n      child.onerror = markLoaded.bind(null, 'image');\n      child.crossOrigin = 'use-credentials';\n    });\n\n    /*\n     * IE does not seem to allow appendChild from different window contexts correctly.  They seem to come back\n     * as plain objects. In order to get around this each tag is re-created into the printWindow\n     * https://stackoverflow.com/questions/38708840/calling-adoptnode-and-importnode-on-a-child-window-fails-in-ie-and-edge\n     */\n    if (copyStyles !== false) {\n\n      const headEls = document.querySelectorAll('style, link[rel=\"stylesheet\"]');\n      [...headEls].forEach(node => { \n      \n        const doc = printWindow.contentDocument || printWindow.document;\n        let newHeadEl = doc.createElement(node.tagName);\n\n        if (node.textContent)\n          newHeadEl.textContent = node.textContent;\n        else if (node.innerText)\n          newHeadEl.innerText = node.innerText;\n  \n        let attributes = [...node.attributes];\n        attributes.forEach(attr => {\n\n          let nodeValue = attr.nodeValue;\n\n          if (\n            attr.nodeName === 'href' && \n            /^https?:\\/\\//.test(attr.nodeValue) === false && \n            /^blob:/.test(attr.nodeValue) === false\n          ) {\n            \n            const relPath = attr.nodeValue.substr(0, 3) === \"../\" \n              ? document.location.pathname.replace(/[^/]*$/, '') \n              : \"/\";\n\n            nodeValue = nodeValue.replace(/\\/+/, '');\n            nodeValue = document.location.protocol + '//' + document.location.host + relPath + nodeValue;\n            \n          }\n\n          newHeadEl.setAttribute(attr.nodeName, nodeValue);\n        });\n\n        if (node.tagName === 'LINK') {\n          newHeadEl.onload = markLoaded.bind(null, 'link');\n          newHeadEl.onerror = markLoaded.bind(null, 'link');          \n        }\n\n        printWindow.document.head.appendChild(newHeadEl);\n\n      });\n\n    }\n\n    if (document.body.className) {\n      const bodyClasses = document.body.className.split(\" \");\n      bodyClasses\n          .filter(item => item)\n          .map(item => printWindow.document.body.classList.add(item));\n    }\n    \n    if (this.props.bodyClass.length) {\n      printWindow.document.body.classList.add(this.props.bodyClass);\n    }\n\n    /* remove date/time from top */\n    const defaultPageStyle = pageStyle === undefined\n      ? \"@page { size: auto;  margin: 0mm; } @media print { body { -webkit-print-color-adjust: exact; } }\"\n      : pageStyle;\n\n    let styleEl = printWindow.document.createElement('style');\n    styleEl.appendChild(printWindow.document.createTextNode(defaultPageStyle));\n\n    printWindow.document.head.appendChild(styleEl);\n    printWindow.document.body.innerHTML = contentNodes.outerHTML;\n\n    if (this.imageTotal === 0 || copyStyles === false) {\n      this.triggerPrint(printWindow);\n    }\n\n    if (this.props.debug) {\n      console.log(\"** DEBUG MODE **\");\n      console.log(printWindow.document);\n    }\n\n  }\n\n  render() {\n\n    return React.cloneElement(this.props.trigger(), {\n     ref: (el) => this.triggerRef = el,\n     onClick: this.handlePrint\n    });\n\n  }\n\n}\n\nexport default ReactToPrint;\n"]},"metadata":{},"sourceType":"script"}